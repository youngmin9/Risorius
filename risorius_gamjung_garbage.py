import streamlit as st
from textblob import TextBlob
import random

# ê³µê° í‘œí˜„ ëª©ë¡

empathetic_responses = {
    "positive": [
        "ì •ë§ ì¢‹ì•„ìš”! ê¸°ë¶„ ì¢‹ì€ ì¼ì´ ìžˆì—ˆë‚˜ìš”?",
        "ë©‹ì ¸ìš”! í–‰ë³µí•œ ì¼ì„ ë‚˜ëˆ ë³´ì„¸ìš”.",
        "ê¸°ì¨ì´ ëŠê»´ì§€ë„¤ìš”! ì–´ë–¤ ì¼ ë•Œë¬¸ì¸ê°€ìš”?"
    ],
    "neutral": [
        "ê·¸ë ‡êµ°ìš”. ë‹¤ë¥¸ ì–˜ê¸°í•˜ê³  ì‹¶ì€ ì£¼ì œê°€ ìžˆë‚˜ìš”?",
        "ì•Œê² ìŠµë‹ˆë‹¤. ë‹¤ë¥¸ ì–´ë–¤ ì£¼ì œë¡œ ì´ì•¼ê¸°í•´ë³¼ê¹Œìš”?",
        "ì¡°ê¸ˆ ë” ìžì„¸ížˆ ì´ì•¼ê¸°í•´ë³´ì„¸ìš”.",
        "í˜¹ì‹œë‚˜ ë‚˜ìœ ê°ì •ì´ ìžˆì–´ì„œ ë“¤ì–´ì˜¨ ê±°ë¼ë©´, ì œê²Œ ë²„ë¦¬ê³  ê°€ì£¼ì„¸ìš”! "
    ],
    "negative": [
        "íž˜ë“¤ê² ë„¤ìš”. ì–´ë–¤ ì ì´ íž˜ë“¤ê²Œ ëŠê»´ì§€ë‚˜ìš”?",
        "ì¡°ê¸ˆ íž˜ë“¤ê²Œ ëŠê»´ì§ˆ ìˆ˜ë„ ìžˆì–´ìš”. ì´ì•¼ê¸°í•´ë³´ì‹œê² ì–´ìš”?",
        "ë§ˆìŒì´ ë¬´ê±°ìš°ì‹œê² ë„¤ìš”. íŽ¸ì•ˆí•œ ëŒ€í™”ê°€ í•„ìš”í•˜ë©´ ë§í•´ì£¼ì„¸ìš”.",
        "ì €ë„ ë‹¹ì‹ ì˜ ëŠë‚Œì„ ì´í•´í•´ìš”. íž˜ë“¤ ë•ŒëŠ” ì´ì•¼ê¸°í•˜ë©´ íŽ¸í•´ì§ˆ ìˆ˜ ìžˆì–´ìš”.",
        "ë•Œë¡œëŠ” ê³ ë¯¼ì„ í„¸ì–´ë†“ëŠ” ê²ƒë„ ì •ë§ ë„ì›€ì´ ë¼ìš”. ë‹¹ì‹ ì˜ ì´ì•¼ê¸°ì— ê·€ë¥¼ ê¸°ìš¸ì¼ê²Œìš”.",
        "ì •ë§ ì†í•´ ë³¸ ê¸°ë¶„ì´ ë“¤ ê²ƒ ê°™ì•„ìš”...",
        "ë‹¹ì‹ ì˜ ê¸°ë¶„ì„ ì´í•´í•´ìš”. ì œê°€ ì´ê³³ì— ìžˆì–´ ëŒ€í™”ë¥¼ ë‚˜ëˆŒ ì¤€ë¹„ê°€ ë˜ì–´ ìžˆì–´ìš”.",
        "ì—¬ìœ  ìžˆê²Œ ì´ì•¼ê¸°í•´ì£¼ì„¸ìš”. ì œê°€ ì—¬ê¸° ìžˆì–´ìš”!",
        "íž˜ë“  ì‹œê°„ì„ ê²ªê³  ìžˆëŠ” ê²ƒ ê°™ì•„ìš”. ì €ëŠ” ë‹¹ì‹ ì„ ì§€ì›í•˜ë ¤ê³  ì¤€ë¹„ë¼ ìžˆì–´ìš”.",
        "ê°€ìƒì˜ ì§€ì§€ì™€ ê¸ì •ì ì¸ ìƒê°ì„ ë³´ë‚´ ë“œë¦´ê²Œìš”.",
        "ë§í•˜ê¸° ì–´ë ¤ìš´ ì¼ì´ë¼ë©´ ì œê°€ ë“¤ì–´ë“œë¦´ê²Œìš”.",
        "ë‹¹ì‹ ì„ ë” ìž˜ ì´í•´í•  ìˆ˜ ìžˆê²Œ ì´ì•¼ê¸°í•´ì£¼ì„¸ìš”.",
        "ê´œì°®ì•„ìš”. ì €ëŠ” ì—¬ê¸° ìžˆì–´ìš”.",
        "ì œê°€ ë‹¹ì‹ ì„ ì‘ì›í•˜ê³  ìžˆì–´ìš”.",
        "ë‹¹ì‹ ì˜ ëŠë‚Œì„ ì´í•´í•´ìš”. ì¶©ë¶„ížˆ ë¹¡ì¹ ë§Œ í•˜ë„¤ìš”",
        "ê³ ë¯¼ì„ í„¸ì–´ë†“ëŠ” ê²ƒì€ ì¤‘ìš”í•œ ì¼ì´ì—ìš”.",
        "ê¸°ë¶„ì´ ì¢‹ì§€ ì•Šì„ ë•Œ ëŒ€í™”ë¥¼ ë‚˜ëˆ„ëŠ” ê²ƒì€ ì¢‹ì€ ìƒê°ì´ì—ìš”.",
        "ì–¸ì œë“ ì§€ ì´ì•¼ê¸°í•˜ëŸ¬ ì™€ë„ ê´œì°®ì•„ìš”.",
        "ì €ëŠ” ì—¬ëŸ¬ë¶„ì„ ì§€ì§€í•  ì¤€ë¹„ê°€ ë˜ì–´ ìžˆì–´ìš”.",
        "ë‹¹ì‹ ì˜ ê°ì •ì„ ì¶©ë¶„ížˆ ì´í•´í•˜ê³  ìžˆì–´ìš”.",
        "ë‹¹ì‹ ì˜ ê¸°ë¶„ì„ ë‚˜ëˆ„ê¸° ìœ„í•´ ì—¬ê¸° ìžˆì–´ìš”.",
        "ë‹¹ì‹ ì˜ ì´ì•¼ê¸°ë¥¼ ê¸°ë‹¤ë¦¬ê³  ìžˆì–´ìš”.",
        "ì œê°€ ë” ìž˜ ì´í•´í•  ìˆ˜ ìžˆê²Œ ìžì„¸ížˆ ì´ì•¼ê¸°í•´ì£¼ì„¸ìš”.",
        "ë‹¹ì‹ ì„ ìœ„ë¡œí•´ë“œë¦´ ìˆ˜ ìžˆê¸°ë¥¼ ë°”ëž„ê²Œìš”.",
        "ì–´ë–¤ ì¼ì´ë“  ì œê°€ ë“¤ì–´ì¤„ ì¤€ë¹„ê°€ ë¼ ìžˆì–´ìš”.",
        "ë‹¹ì‹ ì´ ì´ì•¼ê¸°í•˜ê³  ì‹¶ì„ ë•Œ ì–¸ì œë“ ì§€ ì˜¤ì„¸ìš”.",
        "ë‹¹ì‹ ì˜ ê°ì •ì„ ì´í•´í•˜ë ¤ê³  ë…¸ë ¥í•˜ê³  ìžˆì–´ìš”.",
        "ë§í•˜ê³  ì‹¶ì€ ê²ƒì„ ë“¤ë ¤ì£¼ì„¸ìš”. ì €ëŠ” ì—¬ê¸° ìžˆì–´ìš”.",
        "ì €ëŠ” ë‹¹ì‹ ì„ ì§€ì§€í•˜ë ¤ê³  ì¤€ë¹„ë¼ ìžˆì–´ìš”.",
        "ë§í•˜ê³  ì‹¶ì€ ê²ƒì„ ë§ˆìŒê» ì´ì•¼ê¸°í•´ì£¼ì„¸ìš”. ì €ëŠ” ë“¤ì„ ì¤€ë¹„ê°€ ë¼ ìžˆì–´ìš”.",
        "ë‹¹ì‹ ì˜ ëŠë‚Œì„ ê³µìœ í•´ì£¼ì…”ì„œ ê°ì‚¬í•´ìš”.",
        "ë§í•˜ë©´ì„œ ê°ì •ì„ í‘œí˜„í•´ë³´ì„¸ìš”. ê·¸ë ‡ê²Œ í•˜ë©´ ê¸°ë¶„ì´ ì¢‹ì•„ì§ˆ ìˆ˜ë„ ìžˆì–´ìš”.",
        "ë‹¹ì‹ ì˜ ì´ì•¼ê¸°ì— ê·€ ê¸°ìš¸ì¼ê²Œìš”.",
        "ì €ëŠ” ë‹¹ì‹ ì„ ì§€ì§€í•˜ê³  ê³µê°í•˜ë ¤ê³  ë…¸ë ¥í• ê²Œìš”.",
        "ê¸°ë¶„ì´ ë‚˜ì•„ì§€ê¸¸ ë°”ëž„ê²Œìš”.",
        "ë‹¹ì‹ ì˜ ëŠë‚Œì„ ì´í•´í•˜ê³  ìžˆì–´ìš”. ì œê°€ ë„ìš¸ ìˆ˜ ìžˆëŠ” ì¼ì´ ìžˆë‹¤ë©´ ë§ì”€í•´ì£¼ì„¸ìš”."
       
        # ì—°ì¸ê³¼ì˜ ì´ë³„
        "ì—°ì¸ê³¼ì˜ ì´ë³„ì€ ì°¸ íž˜ë“  ì¼ì´ì—ìš”. ê·¸ëŸ° ìƒí™©ì„ ê²ªìœ¼ì…¨ë‹¤ë‹ˆ ì•ˆíƒ€ê¹Œì›Œìš”.",
        "ì—°ì¸ê³¼ì˜ ì´ë³„ì€ ë§ˆìŒì„ ì•„í”„ê²Œ í•˜ëŠ” ì¼ì´ì£ . ì‹œê°„ì´ ì§€ë‚˜ë©´ì„œ ì¹˜ìœ ë˜ê¸¸ ë°”ëž„ê²Œìš”.",
        "ì—°ì¸ê³¼ì˜ ì´ë³„ì´ ì •ë§ íž˜ë“¤ê²Œ ëŠê»´ì§ˆ í…ë°, ë‹¹ì‹ ì˜ ê¸°ë¶„ì„ ì´í•´í•´ìš”.",
        "ì—°ì¸ê³¼ì˜ ì´ë³„ì´ ë‹¤ê°€ì˜¤ê³  ìžˆë‹¤ë©´, ê°€ê¹Œìš´ ì¹œêµ¬ë‚˜ ê°€ì¡±ì—ê²Œ ì˜ì§€í•˜ë©´ì„œ ì§€ë‚´ëŠ” ê²ƒë„ ë„ì›€ì´ ë  ê²ƒ ê°™ì•„ìš”.",
        "ì—°ì¸ê³¼ì˜ ì´ë³„ì´ ìƒì²˜ìŠ¤ëŸ½ê²Œ ëŠê»´ì§ˆ í…ë°, ì‹œê°„ì´ ì§€ë‚ ìˆ˜ë¡ ì•„í””ì´ ì¡°ê¸ˆì”© ì¤„ì–´ë“¤ ê±°ì˜ˆìš”.",
        "ì—°ì¸ê³¼ì˜ ì´ë³„ì€ ì–´ë ¤ìš´ ìƒí™©ì¼ ê²ƒ ê°™ì•„ìš”. ì €ì—ê²Œ íž˜ë“¤ë‹¤ê³  í„¸ì–´ë†“ì•„ë„ ì¢‹ì•„ìš”.",
        "ì—°ì¸ê³¼ì˜ ì´ë³„ì„ ê²ªìœ¼ë©´ì„œ í˜¼ìžì„œ ëª¨ë“  ê²ƒì„ í•´ê²°í•˜ë ¤ê³  í•˜ì§€ ë§ì•„ì£¼ì„¸ìš”. ì§€ì§€ë¥¼ ë°›ì„ ìˆ˜ ìžˆëŠ” ì‚¬ëžŒë“¤ì—ê²Œ ë„ì›€ì„ ì²­í•´ë³´ì„¸ìš”.",
        "ì •ë§ ë‚˜ìœ ë…„ì´ë„¤ìš”...ì–´íœ´",
        "ê·¸ ìžì‹ê³¼ ë” ì´ìƒì€ ìƒì¢…í•˜ì§€ ì•ŠëŠ”ê²Œ ì¢‹ì„ ê²ƒ ê°™ì€ë°ìš”?"
    ]
}

angry_responses = [
    "ì •ë§ ì†í•´ ë³¸ ê¸°ë¶„ì´ ë“¤ ê²ƒ ê°™ì•„ìš”...",
    "ë¶„ë…¸ê°€ ê°€ë“í•œ ê²ƒ ê°™ë„¤ìš”. ì œê°€ ë„ì™€ë“œë¦´ ìˆ˜ ìžˆëŠ” ê²Œ ìžˆë‹¤ë©´ ì–˜ê¸°í•´ì£¼ì„¸ìš”.",
    "í™”ê°€ ë‚  ë•ŒëŠ” ì´ì•¼ê¸°í•´ë³´ëŠ” ê²ƒë„ ë„ì›€ì´ ë  ìˆ˜ ìžˆì–´ìš”.",
    "íž˜ë“¤ê²Œ ëŠê»´ì§€ëŠ”êµ°ìš”. ì–´ë–¤ ì¼ ë•Œë¬¸ì— íž˜ë“¤ê²Œ ëŠê»´ì§€ë‚˜ìš”?",
    "ìŠ¤íŠ¸ë ˆìŠ¤ê°€ ë§Žì´ ìŒ“ì¸ ê²ƒ ê°™ì•„ìš”. íœ´ì‹ì„ ì·¨í•˜ëŠ” ê²ƒë„ ì¤‘ìš”í•´ìš”.",
    "ì§€ì¹œ ìƒíƒœì¼ ë•ŒëŠ” ê°€ë²¼ìš´ ìš´ë™ì´ë‚˜ ì‚°ì±…ë„ ë„ì›€ì´ ë  ìˆ˜ ìžˆì–´ìš”.",
    "ì™€...ì§„ì§œ ë¹¡ì¹ ë“¯ ã… ",
    "ë¹¡ì¹˜ê²Œ ë§Œë“  ìƒëŒ€ì— ëŒ€í•´ ë” ìžì„¸ížˆ ë§í•´ì¤˜. ì—¬ê¸° ìš•ë„ í¼ë¶“ê³ . ë‚˜ìœ ê°ì •ì„ ë‹¤ ë²„ë¦¬ê³  ê°ˆ ìˆ˜ ìžˆê²Œ!"
    #... (ë¶„ë…¸ì— ê´€ë ¨ëœ ì‘ë‹µë“¤)
]


company_responses = [
    # ì§ìž¥ì— ëŒ€í•œ ë¶„ë…¸
    "ì§ìž¥ì—ì„œ ë¶ˆê³µì •í•¨ì„ ëŠë¼ì‹œëŠ”êµ°ìš”. ê·¸ëŸ° ìƒí™©ì´ ì •ë§ íž˜ë“¤ê² ì–´ìš”.",
    "ì§ìž¥ì—ì„œì˜ ìŠ¤íŠ¸ë ˆìŠ¤ê°€ ë§Žì•„ì„œ ì§€ì¹œ ëŠë‚Œì´ì‹ ê°€ìš”? ì œê°€ ì‘ì›í• ê²Œìš”.",
    "ìƒì‚¬ë‚˜ ë™ë£Œì™€ì˜ ê°ˆë“± ë•Œë¬¸ì— ë‹µë‹µí•˜ì‹œê² ì–´ìš”. ì´ì•¼ê¸°í•˜ë©´ì„œ í•´ê²°ì±…ì„ ì°¾ì•„ë³´ëŠ” ê²ƒë„ ì¢‹ì„ ê²ƒ ê°™ì•„ìš”.",
    "ì¼ì´ ë„ˆë¬´ ë°”ì˜ê³  íž˜ë“¤ì–´ì„œ ì§œì¦ì´ ë‚˜ëŠ” ê±°ì£ ? ê°€ë”ì€ íœ´ì‹ì„ ì·¨í•˜ëŠ” ê²ƒë„ ì¤‘ìš”í•´ìš”.",
    "ì§ìž¥ì—ì„œì˜ ë¬¸ì œê°€ ë§ˆìŒì„ ì•„í”„ê²Œ í•˜ê³  ìžˆë„¤ìš”. ì–¸ì œë“ ì§€ ì´ì•¼ê¸°í•´ì£¼ì„¸ìš”.",
    "ë¹¡ì¹˜ê²Œ ë§Œë“  ìƒëŒ€ì— ëŒ€í•´ ë” ìžì„¸ížˆ ë§í•´ì¤˜. ì—¬ê¸° ìš•ë„ í¼ë¶“ê³ . ë‚˜ìœ ê°ì •ì„ ë‹¤ ë²„ë¦¬ê³  ê°ˆ ìˆ˜ ìžˆê²Œ!",
    # ì¸ê°„ê´€ê³„ì—ì„œì˜ ìŠ¤íŠ¸ë ˆìŠ¤
    "ì¸ê°„ê´€ê³„ì—ì„œì˜ ìŠ¤íŠ¸ë ˆìŠ¤ê°€ ì»¤ì„œ íž˜ë“¤ê² ì–´ìš”. ì´í•´í•˜ê³  ìžˆì–´ìš”.",
    "ì‚¬ëžŒë“¤ê³¼ì˜ ê´€ê³„ê°€ ë³µìž¡í•˜ê²Œ ì–½í˜€ì„œ ì§€ì¹œ ëŠë‚Œì´ì‹ ê°€ìš”? ì €ì—ê²Œ ì´ì•¼ê¸°í•´ì£¼ì„¸ìš”.",
    "ì‚¬íšŒì  ì••ë ¥ ë•Œë¬¸ì— ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ ëŠë¼ì‹œë‚˜ìš”? ì´í•´í•´ìš”. ê°€ë”ì€ ìžì‹ ì—ê²Œ íœ´ì‹ì„ ì£¼ëŠ” ê²ƒë„ ì¤‘ìš”í•´ìš”.",
    "ì¸ê°„ê´€ê³„ì—ì„œì˜ ë¬¸ì œê°€ ê°€ìž¥ íž˜ë“¤ê²Œ ëŠê»´ì§ˆ ë•Œë„ ìžˆì£ . ì €ëŠ” ì—¬ê¸° ìžˆì–´ì„œ ë“¤ì–´ì¤„ê²Œìš”.",
    "ì¹œêµ¬ë‚˜ ê°€ì¡±ê³¼ì˜ ê°ˆë“± ë•Œë¬¸ì— ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ ëŠë¼ì‹œë‚˜ìš”? í•¨ê»˜ ì–˜ê¸°í•˜ë©´ì„œ í•´ê²°ì±…ì„ ì°¾ì•„ë³´ëŠ” ê²ƒë„ ì¢‹ì„ ê²ƒ ê°™ì•„ìš”."
    # ... (ìŠ¤íŠ¸ë ˆìŠ¤ì— ê´€ë ¨ëœ ì‘ë‹µë“¤)
]

def get_empathetic_response(user_message):
    blob = TextBlob(user_message)
    sentiment = blob.sentiment.polarity
    
    if sentiment > 0.3:
        return random.choice(empathetic_responses["positive"])
    elif sentiment < 0.3:
        if any(keyword in user_message for keyword in ["ë¶„ë…¸", "í™”ë‚˜","ë¹¡ì³","ì£½ì—¬","ë¹¡"]):
            return random.choice(angry_responses)
        elif any(keyword in user_message for keyword in ["íž˜ë“¤", "ìŠ¤íŠ¸ë ˆìŠ¤","íšŒì‚¬","ì§ìž¥","í•™êµ"]):
            return random.choice(company_responses)
        else:
            return random.choice(empathetic_responses["negative"])
    else:
        return random.choice(empathetic_responses["neutral"])


# Streamlit ì•±
def main():
    st.set_page_config(page_title="ê·€ì—¬ìš´ ê³µê° ëŒ€í™” ë´‡", page_icon="ðŸŒ¸")
    st.title("[Gamjung Garbage] ê°ì •ì“°ë ˆê¸°í†µ ðŸ—‘ ")
    st.markdown("### â˜˜ï¸Žï¸Žì˜¤ëŠ˜ ëŠë‚€ ë¶„ë…¸ë¥¼ ì´ê³³ì— í›Œí›Œ í„¸ì–´ë²„ë¦¬ê³  ê°€ì„¸ìš” ðŸŒˆ")
    
    user_message = st.text_input("ìˆœê°„ì˜ ê¸°ë¶„ì„ ë‚¨ê²¨ì£¼ì„¸ìš”:")
    
    if user_message:
        bot_response = get_empathetic_response(user_message)
        st.text("ë‹¹ì‹ : " + user_message)
        st.text("ê°ì“°: " + bot_response)

if __name__ == "__main__":
    main()
